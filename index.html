<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>기괴한 선택지 스토리</title>
<style>
  body {
    margin:0;
    padding:0;
    background:#0a0a0a;
    color:#fff;
    font-family:'Courier New', monospace;
    overflow:hidden;
    height:100vh;
    position:relative;
  }

  /* 캐릭터 */
  .character {
    position:absolute;
    width:120px;
    cursor:pointer;
    transition: transform 0.2s;
  }
  .character:hover { transform: scale(1.2); }

  /* 대화창 */
  #dialogue {
    position: fixed;
    bottom:20px;
    left:50%;
    transform:translateX(-50%);
    background: rgba(20,20,20,0.95);
    padding:15px 20px;
    border-radius:10px;
    max-width:400px;
    display:none;
    z-index:100;
  }
  .choice-btn {
    display:block;
    margin:5px 0;
    padding:5px 10px;
    background:#444;
    border:none;
    color:#fff;
    cursor:pointer;
    border-radius:5px;
  }
  .choice-btn:hover { background:#666; }

  /* 화면 전체 이미지 */
  #horribleScreen {
    position:absolute;
    top:0;
    left:0;
    width:100%;
    height:100%;
    display:none;
    background-size:cover;
    background-position:center;
    z-index:50;
  }
</style>
</head>
<body>

<!-- 캐릭터 -->
<img src="https://i.ibb.co/0nGvV6B/skinfracture.png" class="character" id="skinfracture" style="top:100px; left:200px;" alt="스킨프랙쳐">

<!-- 대화창 -->
<div id="dialogue"></div>

<!-- 화면 바뀔 기괴 이미지 -->
<div id="horribleScreen"></div>

<script>
// 스토리 예제
const story = {
  skinfracture: {
    text:"안녕, 나는 스킨프랙쳐야. 무엇을 할래?",
    choices:[
      {text:"친구가 되고 싶어", next:"friend"},
      {text:"조금 무섭다", next:"scared"}
    ]
  },
  friend:{
    text:"좋아, 친구가 되자! 함께 모험을 떠날래?",
    choices:[
      {text:"응", next:"horribleImage"},
      {text:"아니", next:"end"}
    ]
  },
  scared:{text:"흥, 무서워할 줄 알았어...", choices:[{text:"다시", next:"skinfracture"}]},
  horribleImage:{
    text:"", choices:[],
    image:"https://i.ibb.co/3d7s1D7/horrible.jpg" // 여기에 기괴한 이미지 URL
  },
  end:{text:"스토리가 끝났어. 캐릭터를 다시 클릭해봐!", choices:[]}
};

const dialogue = document.getElementById('dialogue');
const horribleScreen = document.getElementById('horribleScreen');

// 캐릭터 클릭
document.getElementById('skinfracture').addEventListener('click', ()=>startStory('skinfracture'));

function startStory(nodeKey){
  const node = story[nodeKey];

  // 만약 기괴 이미지 노드라면 전체 화면 전환
  if(nodeKey==="horribleImage"){
    horribleScreen.style.backgroundImage = `url(${node.image})`;
    horribleScreen.style.display="block";
    dialogue.style.display="none";
    return;
  } else {
    horribleScreen.style.display="none";
  }

  dialogue.innerHTML = node.text+"<br>";
  dialogue.style.display="block";

  // 선택지 버튼
  node.choices.forEach(choice=>{
    const btn = document.createElement('button');
    btn.classList.add('choice-btn');
    btn.innerText = choice.text;
    btn.onclick = ()=>startStory(choice.next);
    dialogue.appendChild(btn);
  });
}
</script>

</body>
</html>
